(this["webpackJsonpseng471-cada"]=this["webpackJsonpseng471-cada"]||[]).push([[12,20],{575:function(t,e,n){"use strict";n.r(e);var r=n(65),a=n.n(r),c=n(90),o=n(7),i=n(669),u=n(659),l=n(652),s=n(71),b=n(33),d=n(777),j=n(774),f=n(5),O=function(t){var e=t.options,n=t.onChange,r=t.label,a=(t.inputAdornment,Object(b.a)(t,["options","onChange","label","inputAdornment"]));return Object(f.jsx)(d.a,Object(o.a)({onChange:n,options:e,getOptionLabel:function(t){return t.title},style:{width:300},renderInput:function(t){return Object(f.jsx)(j.a,Object(o.a)(Object(o.a)({},t),{},{label:r,variant:"outlined"}))}},a))},p=n(0),v=n(73),h=n(43),m=n(88),g=n(55),x=n(658),C=n(128),y=n(230),w=function(){return Object(f.jsx)(m.a,{children:"There are no users."})},k=function(){var t=Object(C.a)().userId,e=Object(y.a)().isDesignatedSalesperson;console.log(t),Object(v.useFirestoreConnect)(Object(o.a)({collection:"customers"},e&&{where:["designatedSalespersonId","==",t]}));var n=Object(h.c)((function(t){return t.firestore.data.customers})),r=!Object(v.isLoaded)(n)&&Object(f.jsx)(g.a,{size:"xlarge",fullWidth:!0}),a=Object(v.isEmpty)(n)&&Object(f.jsx)(w,{},-2);return{customers:n&&Object.keys(n).map((function(t){return Object(o.a)(Object(o.a)({},n[t]),{},{id:t})})).map(Object(x.b)())||[],pending:r,error:a}},S=n(24),R=n(28),T=n(72),E=n(641),q=n(710),N=n(217),P=n(651),D=n(52),A=function(){var t=Object(h.b)(),e=Object(p.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(Object(N.e)(e,n,r))}),[t]),n=Object(p.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(Object(N.a)(e,n,r))}),[t]),r=Object(p.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(Object(N.d)(e,n,r))}),[t]),o=Object(p.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(Object(N.c)(e,n,r))}),[t]),i=Object(p.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Yes",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"No",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return t(Object(N.b)(e,n,r,a,c,o))}),[t]),u=Object(p.useCallback)(Object(c.a)(a.a.mark((function t(){var r,c=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:null,n("Loading...",Object(f.jsx)(P.a,{children:Object(f.jsx)(g.a,{size:"large"})})),t.prev=2,t.next=5,null===r||void 0===r?void 0:r();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e(Object(D.b)(t.t0));case 10:case"end":return t.stop()}}),t,null,[[2,7]])}))),[n,e]),l=Object(p.useCallback)((function(t){var a=e;return"html"===t?a=r:"component"===t&&(a=n),a}),[n,r,e]),s=Object(p.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";l(n)(t,e)}),[l]),b=Object(p.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";l(n)(t,e)}),[l]),d=Object(p.useCallback)((function(){return t(Object(N.f)())}),[t]),j=Object(p.useCallback)((function(){t(Object(N.g)({pending:!0}))}),[t]);return{openTextDialog:e,openComponentDialog:n,openHtmlDialog:r,openFormDialog:o,openConfirmDialog:i,openLoadingDialog:u,displayError:s,displaySuccess:b,closeDialog:d,setPending:j}},z=n(693);e.default=function(){var t=k(),e=t.error,n=t.pending,r=t.customers,b=Object(q.a)().createCustomer,d=A(),j=d.openComponentDialog,p=d.closeDialog,v=r.map((function(t){var e=t.firstName,n=t.lastName,r=t.id;return{title:"".concat(e," ").concat(n),value:r}})),h=Object(S.g)().push,m=function(t){h("".concat(R.a,"/customers/").concat(t))},g=function(t){var e=t.onSubmit,n=t.props,r=void 0===n?{}:n,a=t.isPending,c=void 0!==a&&a;j("Add new customer",Object(f.jsx)(z.a,Object(o.a)({onSubmit:e,pending:c,submitText:"Add"},r)),{pending:c})},x=function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g({props:e,isPending:!0}),t.next=3,b(e);case 3:n=t.sent,m(n),p();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)(u.default,{children:[Object(f.jsx)(i.a,{icon:s.f,children:"Customers"}),Object(f.jsx)(l.a,{direction:"bottom",spacing:"15"}),n||e||Object(f.jsxs)(E.a,{container:!0,justify:"center",alignItems:"center",children:[Object(f.jsx)(O,{options:v,onChange:function(t,e){var n=e.value;m(n)},label:"Customers"}),"\xa0\xa0",Object(f.jsx)(T.a,{tooltip:"Add new customer",onClick:function(){g({onSubmit:x})},icon:s.b,bg:"primary"})]})]})}},651:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r,a=n(7),c=n(33),o=n(22),i=(n(0),n(19)),u=n(641),l=n(4),s=(l.node,l.bool,l.bool,n(5)),b=Object(i.c)(u.a)(r||(r=Object(o.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\t","\n"])),(function(t){var e=t.$horizontal,n=t.$vertical;return"\n\t\t".concat(e&&"justify-content: center;","\n\t\t").concat(n&&"height: 100%; align-items: center;","\n\t")})),d=function(t){var e=t.children,n=t.horizontal,r=t.vertical,o=Object(c.a)(t,["children","horizontal","vertical"]);return Object(s.jsx)(b,Object(a.a)(Object(a.a)({$horizontal:n,$vertical:r},o),{},{children:e}))};d.defaultProps={children:"",horizontal:!0,vertical:!1};var j=d},652:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(0);var r,a=n(22),c=n(19).c.span(r||(r=Object(a.a)(["\n\tdisplay: block;\n\twidth: 100%;\n\t","\n"])),(function(t){var e=t.theme,n=t.$direction,r=t.$spacing;return"\n\t\tmargin-".concat(n,": ").concat(e.spacing(r),"px;\n\t")})),o=n(42),i=(o.c.isRequired,o.g,n(5)),u=function(t){var e=t.direction,n=t.spacing;return Object(i.jsx)(c,{$direction:e,$spacing:"string"===typeof n&&parseInt(n,10)||n})};u.defaultProps={spacing:1};var l=u},656:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r,a=n(7),c=n(33),o=n(22),i=n(0),u=n(19),l=n(668),s=n(224),b=n(71),d=n(72),j=n(69),f=n(4),O=(f.string,f.func.isRequired,n(5)),p=Object(u.c)(b.d)(r||(r=Object(o.a)(["\n\tmargin-left: -2px;\n\t",";\n"])),(function(t){var e=t.theme,n=t.$bg,r=t.$size;return n&&"\n\t\t\t\t// & .MuiSvgIcon-root {\n\n\t\t\t\t\tborder-radius: ".concat(e.shape.borderRadius,"px;\n\t\t\t\t\twidth: ").concat(r,"px;\n\t\t\t\t\theight: ").concat(r,"px;\n\t\t\t\t\tfill: ").concat(n," !important;\n\t\t\t\t\tcolor: ").concat(n," !important;\n\t\t\t\t\tbackground-color: ").concat(n," !important;\n\t\t\t\t// }\n\t\t")||""})),v=Object(i.forwardRef)((function(t,e){var n=t.color,r=t.onColorChange,o=t.size,i=void 0===o?20:o,u=Object(c.a)(t,["color","onColorChange","size"]);return Object(O.jsx)(s.a,{buttonComponent:Object(O.jsx)(d.a,{tooltip:"Pick a color",onClick:function(t){t()},icon:Object(O.jsx)(p,{$size:i,$bg:n})}),component:Object(O.jsx)(l.a,Object(a.a)(Object(a.a)({colors:[j.b,j.c,"#f44336","#ff9800","#2196f3","#4caf50"],color:n,onChangeComplete:function(t){return r(t.hex)}},u),{},{ref:e})),passCallback:!0})}));v.defaultProps={color:""};var h=v},658:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var r=n(155),a=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return e[n]=null===r?null:"object"!==typeof r||r instanceof Date?r:JSON.stringify(r),e}),{})},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).reduce((function(n,a){var c=t[a];return n[a]=e.includes(a)&&JSON.parse(c)||c instanceof r.a.default.firestore.Timestamp&&c.toDate()||c,n}),{})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e){return c(e,t)}}},659:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i}));var r,a=n(22),c=n(335),o=n(19),i=Object(o.c)(c.a)(r||(r=Object(a.a)(["\n\t","\n"])),(function(t){var e=t.theme;return"\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tpadding: ".concat(e.spacing(2),"px;\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t\toverflow-y: auto;\n\t\toverflow-x: hidden;\n\t\t").concat(e.breakpoints.up("md")," {\n\t\t\tjustify-content: center;\n\t\t\tpadding: ").concat(e.spacing(5),"px;\n\t\t}\n\t")}))},662:function(t,e,n){"use strict";n.d(e,"b",(function(){return $})),n.d(e,"a",(function(){return q}));var r,a=n(7),c=n(33),o=n(0),i=n(773),u=n(641),l=n(677),s=n(681),b=n(651),d=n(72),j=n(652),f=n(59),O=n(22),p=n(19),v=n(774),h=Object(p.c)(v.a)(r||(r=Object(O.a)(["\n\t","\n"])),(function(t){var e=t.theme;return"\n\t\tmargin-bottom: ".concat(e.spacing(2),"px;\n\t")})),m=n(5),g=Object(o.forwardRef)((function(t,e){return Object(m.jsx)(h,Object(a.a)(Object(a.a)({type:"password"},t),{},{ref:e}))})),x=n(772),C=n(646),y=n(4),w=Object(o.forwardRef)((function(t,e){var n=t.label,r=Object(c.a)(t,["label"]);return Object(m.jsx)(x.a,{control:Object(m.jsx)(C.a,Object(a.a)(Object(a.a)({color:"primary"},r),{},{ref:e})),label:n})}));w.propTypes={label:y.string.isRequired};var k=w,S=n(656),R=Object(o.forwardRef)((function(t,e){var n=t.label,r=Object(c.a)(t,["label"]);return Object(m.jsx)(x.a,{control:Object(m.jsx)(S.a,Object(a.a)(Object(a.a)({},r),{},{ref:e})),label:n})}));R.propTypes={label:y.string.isRequired};var T,E=R,q={TEXT:"text",PASSWORD:"password",CHECKBOX:"checkbox",COLOR_PICKER:"colorPicker"},N=q.TEXT,P=q.PASSWORD,D=q.CHECKBOX,A=q.COLOR_PICKER,z=(T={},Object(f.a)(T,N,h),Object(f.a)(T,P,g),Object(f.a)(T,D,k),Object(f.a)(T,A,E),T),$=function(t){var e=t.items,n=t.schema,r=t.onSubmit,f=t.defaultValues,O=t.pending,p=void 0!==O&&O,v=t.submitText,h=void 0===v?"Submit":v,g=t.ignoreAutocomplete,x=void 0!==g&&g,C=Object(c.a)(t,["items","schema","onSubmit","defaultValues","pending","submitText","ignoreAutocomplete"]),y=Object(l.c)({resolver:Object(s.a)(n),defaultValues:f}),w=y.control,k=y.handleSubmit,S=y.errors,R=Object(o.useRef)({});Object(o.useEffect)((function(){e.forEach((function(t){var e=t.name;R.current[e]=Object(o.createRef)()}))}),[e]);return Object(o.useEffect)((function(){})),Object(m.jsxs)("form",Object(a.a)(Object(a.a)({onSubmit:k(r,(function(t){var e=Object.keys(t);if(e.length){var n,r,a=e[0];if(null===(n=R.current)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.current)return void R.current[a].current.focus();setTimeout((function(){var t,e,n;null===(t=R.current)||void 0===t||null===(e=t[a])||void 0===e||null===(n=e.current)||void 0===n||n.focus()}),100)}})),noValidate:!0,autoComplete:"off"},C),{},{children:[Object(m.jsx)(j.a,{direction:"bottom",spacing:"2"}),e.map((function(t,e){var n=t.type,r=t.name,o=t.label,u=t.required,s=void 0!==u&&u,b=t.defaultValue,d=void 0===b?"":b,j=t.variant,f=void 0===j?"outlined":j,O=t.ignoreAutocomplete,p=void 0===O?x:O,v=Object(c.a)(t,["type","name","label","required","defaultValue","variant","ignoreAutocomplete"]),h=z[n],g=R.current[r],C={};n===q.CHECKBOX?C.render=function(t){return Object(m.jsx)(h,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,label:o})}:n===q.COLOR_PICKER?C.render=function(t){var e=t.value,n=t.onChange;return Object(m.jsx)(h,{color:e,onColorChange:n,label:o})}:C.as=Object(m.jsx)(h,Object(a.a)(Object(a.a)({},0===e&&{autoFocus:!0}),{},{inputRef:g}));var y=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({control:w,defaultValue:d,name:r,label:o},f&&{variant:f}),s&&function(t){var e={required:!0,rules:{required:!0}},n=S[t];return n&&(e.helperText="".concat(n.message),e.error=!0),e}(r)),C),v);return p&&(y.inputProps=Object(a.a)(Object(a.a)({},C.inputProps||{}),{},{autoComplete:"ignore"})),Object(m.jsx)(i.a,{children:Object(m.jsx)(l.a,Object(a.a)({},y))},r)})),Object(m.jsx)("input",{hidden:!0}),Object(m.jsx)(j.a,{direction:"bottom",spacing:"2"}),Object(m.jsx)(b.a,{container:!0,children:Object(m.jsx)(u.a,{container:!0,justify:"center",item:!0,xs:12,sm:8,md:6,children:Object(m.jsx)(d.a,{tooltip:h,text:h,type:"submit",fullWidth:!0,bg:"primary",variant:"contained",loading:p})})})]}))}},669:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r,a=n(7),c=n(33),o=n(22),i=n(88),u=n(19),l=Object(u.c)(i.a)(r||(r=Object(o.a)(["\n\talign-items: center;\n\tdisplay: inline-flex;\n"]))),s=n(0),b=n(91),d=n(5),j=function(t){var e=t.icon,n=t.children,r=t.subtitle,o=void 0!==r&&r,i=Object(c.a)(t,["icon","children","subtitle"]),u="h2",j=70;return o&&(u="h5",j=50),Object(d.jsxs)(l,Object(a.a)(Object(a.a)({component:"h1",variant:u},i),{},{children:[Object(s.cloneElement)(Object(b.a)(e),{style:{fontSize:j}}),"\xa0",n]}))}},674:function(t,e,n){"use strict";n.d(e,"b",(function(){return R})),n.d(e,"a",(function(){return T}));var r,a=n(7),c=n(89),o=n(33),i=n(22),u=n(0),l=n.n(u),s=n(776),b=n(771),d=n(19),j=n(91),f=n(4),O=n(42),p=(Object(f.arrayOf)(Object(f.shape)({label:f.string.isRequired,panel:O.d.isRequired,icon:O.e})),f.node,f.any.isRequired,f.any.isRequired,n(775)),v=n(5),h=d.c.div(r||(r=Object(i.a)(["\n\twidth: 100%;\n\toverflow: auto;\n"]))),m=function(t){var e=t.children,n=t.value,r=t.index,c=Object(o.a)(t,["children","value","index"]);return Object(v.jsx)(h,Object(a.a)(Object(a.a)({role:"tabpanel",hidden:n!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},c),{},{children:n===r&&Object(v.jsx)(p.a,{p:3,children:e})}))};m.defaultProps={children:null};var g,x,C=m,y=d.c.div(g||(g=Object(i.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\theight: 100%;\n\t","\n"])),(function(t){var e=t.theme;return"\n\t\tbackground-color: ".concat(e.palette.background.level1,";\n\t")})),w=Object(d.c)(s.a)(x||(x=Object(i.a)(["\n\toverflow: initial;\n\t","\n"])),(function(t){var e=t.theme;return"\n\t\tborder-right: 1px solid ".concat(e.palette.divider,";\n\t")})),k=function(t){var e=t.list,n=Object(o.a)(t,["list"]),r=l.a.useState(0),i=Object(c.a)(r,2),u=i[0],s=i[1],d=[],f=[];return e.forEach((function(t,e){var n,r=t.label,c=t.panel,o=t.icon;d.push(Object(v.jsx)(b.a,Object(a.a)({icon:Object(j.a)(o),label:r},{id:"vertical-tab-".concat(n=e),"aria-controls":"vertical-tabpanel-".concat(n)}),r)),f.push(Object(v.jsx)(C,{value:u,index:e,children:Object(j.a)(c)},r))})),Object(v.jsxs)(y,Object(a.a)(Object(a.a)({},n),{},{children:[Object(v.jsx)(w,{orientation:"vertical",variant:"scrollable",value:u,onChange:function(t,e){s(e)},"aria-label":"Vertical tabs",indicatorColor:"secondary",textColor:"secondary",children:d}),f]}))};k.defaultProps={list:[]};var S,R=k,T=d.c.div(S||(S=Object(i.a)(["\n\tbox-sizing: border-box;\n\tdisplay: none;\n\twidth: 100%;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-items: center;\n\tflex-wrap: wrap;\n\talign-content: center;\n\tjustify-content: center;\n"])))},693:function(t,e,n){"use strict";var r=n(662),a=n(674),c=n(689),o=n(5),i=c.a().shape({firstName:c.c().label("First Name").required(),lastName:c.c().label("Last Name").required(),address:c.c().label("Address").required(),phoneNumber:c.c().label("Phone Number").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required()});e.a=function(t){var e=t.firstName,n=t.lastName,c=t.address,u=t.phoneNumber,l=t.onSubmit,s=t.submitText,b=t.pending,d=void 0!==b&&b;return Object(o.jsx)(a.a,{children:Object(o.jsx)(r.b,{ignoreAutocomplete:!0,style:{width:"80%",maxWidth:400},items:[{type:r.a.TEXT,label:"First Name",name:"firstName",required:!0,defaultValue:e},{type:r.a.TEXT,label:"Last Name",name:"lastName",required:!0,defaultValue:n},{type:r.a.TEXT,label:"Address",name:"address",required:!0,defaultValue:c},{type:r.a.TEXT,label:"Phone Number",name:"phoneNumber",required:!0,defaultValue:u}],schema:i,onSubmit:l,pending:d,submitText:s})})}},710:function(t,e,n){"use strict";var r=n(65),a=n.n(r),c=n(7),o=n(90),i=n(73),u=n(100),l=n(128),s=n(658);e.a=function(t){var e=Object(u.a)().notifyError,n=Object(l.a)().userId,r=Object(i.useFirestore)({collection:"customers",doc:t});return{createCustomer:function(){var t=Object(o.a)(a.a.mark((function t(o){var i,u,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new Date,t.next=4,r.add("customers",Object(s.c)(Object(c.a)(Object(c.a)({},o),{},{createdOn:i,updatedOn:i,vehicleSelection:{vehicleModel:null,exteriorColor:null,interiorColor:null},designatedSalespersonId:n})));case 4:return u=t.sent,l=u.id,t.abrupt("return",l);case 9:return t.prev=9,t.t0=t.catch(0),e(t.t0),t.abrupt("return","");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),updateCustomer:function(){var n=Object(o.a)(a.a.mark((function n(c){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.update("customers/".concat(t),Object(s.c)(c));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),e(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(t){return n.apply(this,arguments)}}(),deleteCustomer:function(){var n=Object(o.a)(a.a.mark((function n(){var c,o=arguments;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.length>0&&void 0!==o[0]?o[0]:t,n.prev=1,n.next=4,r.delete("customers/".concat(c));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),e(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}()}}}}]);
//# sourceMappingURL=12.1438a86f.chunk.js.map