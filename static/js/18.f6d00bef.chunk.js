(this["webpackJsonpseng471-cada"]=this["webpackJsonpseng471-cada"]||[]).push([[18],{575:function(e,t,n){"use strict";n.r(t);var r=n(659),c=n(71),a=n(669),o=n(740),s=n(73),i=n(43),u=n(658),d=n(55),l=(n(0),n(88)),p=n(651),b=n(664),j=n(5),v=function(e){var t=e.children;return Object(j.jsx)(p.a,{vertical:!0,children:Object(j.jsx)(b.a,{children:Object(j.jsx)(l.a,{variant:"h3",component:"h1",children:t})})})},O=n(128),h=n(230),f=function(e){var t=Object(O.a)().userId,n=Object(h.a)().isDesignatedSalesperson;Object(s.useFirestoreConnect)({collection:"customers",doc:e});var r=Object(i.c)((function(e){return e.firestore.data.customers})),c=(null===r||void 0===r?void 0:r[e])&&Object(u.a)(r[e],["vehicleSelection"])||{};return{customer:c,pending:!Object(s.isLoaded)(r)&&Object(j.jsx)(d.a,{}),error:Object(s.isEmpty)(null===r||void 0===r?void 0:r[e])&&Object(j.jsx)(v,{children:"Either the customer is not found or you don't have access to this page."})||n&&(null===c||void 0===c?void 0:c.designatedSalespersonId)!==t&&Object(j.jsx)(v,{children:"You don't have access to view or update this customer."})}},m=n(711),x=n(687);t.default=function(e){var t,n=e.match.params.id,s=f(n),i=s.error,u=s.pending,d=s.customer,l=Object(m.a)(n).updateCustomer,p=d.firstName,b=d.lastName,v=d.vehicleSelection;p&&b&&(t="".concat(p," ").concat(b));return Object(j.jsxs)(r.default,{children:[Object(j.jsx)(a.a,{icon:c.e,children:t||"Customer"}),Object(j.jsx)(x.a,{style:{width:"100%"},variant:"middle"}),u||i||Object(j.jsx)(o.a,{vehicleSelection:v,onVehicleSelectionUpdate:function(e){l(e)},customerInfo:d})]})}},664:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,c,a=n(7),o=n(89),s=n(33),i=n(22),u=n(0),d=n(335),l=n(775),p=n(19),b=n(651),j=n(4),v=(j.object,j.object,j.bool,n(5)),O=Object(p.c)(d.a)(r||(r=Object(i.a)(["\n\twidth: 100%;\n\ttext-align: left;\n\t","\n"])),(function(e){var t,n=e.theme,r=e.$bg;return"\n\t\t// margin-bottom: ".concat(n.spacing(2),"px;\n\t\tbackground-color: ").concat(r&&((null===(t=n.palette[r])||void 0===t?void 0:t.main)||n.palette.background[r]||r)||n.palette.background.paper,";\n\t")})),h=p.c.div(c||(c=Object(i.a)(["\n\t","\n"])),(function(e){var t=e.theme;return"\n\t\t& * {\n\t\t\tborder-radius: ".concat(t.shape.borderRadius,"px;\n\t\t}\n\t")})),f=function(e){var t=e.containerProps,n=e.paperProps,r=e.noBg,c=Object(s.a)(e,["containerProps","paperProps","noBg"]),i=Object(u.useState)(!1),d=Object(o.a)(i,2),p=d[0],j=d[1],f=Object(v.jsx)(l.a,Object(a.a)({py:2,px:4,textAlign:"left"},c));return Object(v.jsx)(b.a,Object(a.a)(Object(a.a)({},t),{},{children:r&&Object(v.jsx)(h,{children:f})||Object(v.jsx)(O,Object(a.a)(Object(a.a)({elevation:p?3:1,onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)}},n),{},{children:f}))}))};f.defaultProps={containerProps:{},paperProps:{},noBg:!1};var m=f},711:function(e,t,n){"use strict";var r=n(65),c=n.n(r),a=n(7),o=n(90),s=n(73),i=n(127),u=n(128),d=n(658);t.a=function(e){var t=Object(i.a)().notifyError,n=Object(u.a)().userId,r=Object(s.useFirestore)({collection:"customers",doc:e});return{createCustomer:function(){var e=Object(o.a)(c.a.mark((function e(o){var s,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=new Date,e.next=4,r.add("customers",Object(d.c)(Object(a.a)(Object(a.a)({},o),{},{createdOn:s,updatedOn:s,vehicleSelection:{vehicleModel:null,exteriorColor:null,interiorColor:null},designatedSalespersonId:n})));case 4:return i=e.sent,u=i.id,e.abrupt("return",u);case 9:return e.prev=9,e.t0=e.catch(0),t(e.t0),e.abrupt("return","");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),updateCustomer:function(){var n=Object(o.a)(c.a.mark((function n(a){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.update("customers/".concat(e),Object(d.c)(a));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),t(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),deleteCustomer:function(){var n=Object(o.a)(c.a.mark((function n(){var a,o=arguments;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:e,n.prev=1,n.next=4,r.delete("customers/".concat(a));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),t(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}()}}}}]);
//# sourceMappingURL=18.f6d00bef.chunk.js.map